<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

<script src="//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>


<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.5/js/dataTables.responsive.min.js"></script>

<script>
$(document).ready(function() {
    $('#competencies').DataTable({
        "paging":   false,
        "ordering": false,
        "info":     false,
        "searching": false,
        "responsive": true
    });
    $("form#assessment").submit(function(){
        event.preventDefault();
        formData = $('form#assessment').serializeArray(); // put form data into array
//console.log(formData);
        

            $(formData).each(function(i, field){ //iterate through the formdata
                var compItemID = field.name;
                var compID = compItemID.substr(0, compItemID.indexOf('_')); // find the compID by parsing before the _

                console.log(compID);

// Need to create an array of the compIDs, with a count of compItemIDs and a total of the values. Then can work out the average. 

              
            });

        
                
                

        
        });
 

    

    

} );




</script>
